# Preguntas sobre la actividad

## **[CE 7.c] ¿Que librería/clases has utilizado para realizar la práctica.? Comenta los métodos mas interesantes**

- Para esta práctica se ha usado la librería java.io.File
- Se usó principalmente en la clase UsuarioDAO para leer y escribir los datos sobre los usuarios en un archivo de tipo .csv
- Los métodos más interesantes que podemos encontrar son cargarUsuariosCsv() y guardarUsuariosCsv() entre otras opciones.

### cargarUsuariosCsv()

- Se usa para cargar los datos desde el archivo usuarios.csv
- Funciona de la siguiente manera primero verífica que el archivo existe y si no lo crea, segundo lee línea a línea y lo convierte a un objeto usuario y tercero actualiza el contador de id.

https://github.com/RebelionAlberti/2425-varios-edes-prog-proyectotaskmanager-rebelion_alberti/blob/5db86a1552421bd74222023851eb155815739da7/src/main/kotlin/datos/dao/UsuarioDAO.kt#L15-L35

### guardarUsuariosCsv()

- Guarda el estado en el que se encuentren los archivos.

https://github.com/RebelionAlberti/2425-varios-edes-prog-proyectotaskmanager-rebelion_alberti/blob/5db86a1552421bd74222023851eb155815739da7/src/main/kotlin/datos/dao/UsuarioDAO.kt#L37-L45

## **[CE 7.d] 2.a ¿Que formato le has dado a la información del fichero para guardar y recuperar la información?** 

- Para guardar y recuperar los datos usamos archivos de tipo csv donde separamos él, id y el nombre mediante una coma.
- Se utiliza la coma para separar él, id del nombre.

```
id,nombre
1,Adrián
2,Jesus
```

## **2.b ¿Que estrategia compartida habéis usado para trabajar los ficheros? (Carpeta en donde se guardan los ficheros, cuando crear los archivos, ....)** 

- Se crean los ficheros en una ruta en concreto y en una carpeta llamada CsvFiles.
- La carpeta se crea de forma automática cuando ejecutas el programa en caso de que no esté creada ya.
- Para cada funcionalidad tiene su propio archivo .csv que se crea de forma automática o no en función de si existe o no.
- Cuando se actualizan los datos de un archivo se sobreescriben por completo su contenido.

## **2.c ¿Cómo se gestionan los errores? Pon ejemplos de código (enlace permanente al código en GitHub).**
- Se comprueba que exista la carpeta antes de crearla para evitar errores con rutas.

https://github.com/RebelionAlberti/2425-varios-edes-prog-proyectotaskmanager-rebelion_alberti/blob/5db86a1552421bd74222023851eb155815739da7/src/main/kotlin/datos/dao/UsuarioDAO.kt#L11-L13

- Se comprueba que el archivo deseado exista para evitar duplicados y se inserta directamente los campos deseados para que mantengan una estructura desde el inicio.

https://github.com/RebelionAlberti/2425-varios-edes-prog-proyectotaskmanager-rebelion_alberti/blob/5db86a1552421bd74222023851eb155815739da7/src/main/kotlin/datos/dao/UsuarioDAO.kt#L16-L18

## **[CE 7.e] 3.a Describe la forma de acceso para leer información** 

- Los datos se leen línea por línea de forma secuencial.
- La lectura se realiza dentro del método cargarUsuariosCsv() donde se lee línea a línea gracias a ForEachLine y después mediante un split a la coma separas él, id del nombre.

https://github.com/RebelionAlberti/2425-varios-edes-prog-proyectotaskmanager-rebelion_alberti/blob/5db86a1552421bd74222023851eb155815739da7/src/main/kotlin/datos/dao/UsuarioDAO.kt#L21-L33

- La lectura de los archivos comienza desde que se ejecuta el programa mediante un bloque init.

https://github.com/RebelionAlberti/2425-varios-edes-prog-proyectotaskmanager-rebelion_alberti/blob/5db86a1552421bd74222023851eb155815739da7/src/main/kotlin/datos/repository/Repository.kt#L8-L10

## **3.b Describe la forma de acceso para escribir información** 

- Cuando se quiere escribir información sobre archivos se sobreescribe de forma completa.
- Se escriben los datos mediante guardarUsuariosCsv() donde este método se ejecuta cada vez que se llama a uno de los siguientes métodos (create, update y delete).
- Funciona mediante WriteText donde se inserta la cabecera, él id y el nombre separados por una coma.

https://github.com/RebelionAlberti/2425-varios-edes-prog-proyectotaskmanager-rebelion_alberti/blob/5db86a1552421bd74222023851eb155815739da7/src/main/kotlin/datos/dao/UsuarioDAO.kt#L37-L45

## **3.c Describe la forma de acceso para actualizar información. Pon ejemplos de código (enlace permanente al código en GitHub).**

- Se realiza mediante el método update() en el cual primero se busca al usuario por id en la lista cargada desde el archivo usuario CSV.
- Después se sustituye el objeto viejo por el nuevo.
- Para terminar se llama a guardarUsuariosCsv() para sobreescribir todos los datos del archivo usuarios.csv y asi mantenerlo actualizado.

https://github.com/RebelionAlberti/2425-varios-edes-prog-proyectotaskmanager-rebelion_alberti/blob/5db86a1552421bd74222023851eb155815739da7/src/main/kotlin/datos/dao/UsuarioDAO.kt#L61-L72