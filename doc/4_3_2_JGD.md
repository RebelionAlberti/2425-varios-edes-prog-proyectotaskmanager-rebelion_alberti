# 4.3.2 Aplicación de Code Smells y Patrones de Refactorización en el Código del TaskManager:

## code Smells encontrados:

Enlace a clase [`ActividadService`]() antes de aplicar los patrones de diseño.

### 1. Large Class (Clase larga)

La clase `ActividadService` contiene múltiples métodos con lógica diversa y está a cargo de muchas responsabilidades
diferentes. Incumple el SRP.

El patrón de diseño más adecuado, en teoría, sería el Factory Method / Abstract Factory: Para la creación de diferentes 
tipos de actividades (Tarea, Evento), usamos un patrón Factory para encapsular la lógica de creación fuera del servicio.

#### solución dada:

Para arreglar que la clase fuese tan larga, moví la creación de tareas y eventos a una fábrica (Factory Method). Así, el 
servicio solo se encarga de gestionar y no de crear objetos, dejando el código más limpio y fácil de mantener.

### 2.  Feature Envy (Envidia de función)

En la clase `ActividadService` hay partes donde el servicio accede y modifica directamente el estado interno de objetos.

El patrón de diseño más adecuado sería el patrón de diseño Command, que crea comandos para encapsular las operaciones de
cambio de estado o asignación, para que la lógica de negocio quede encapsulada en esos objetos comando.


#### solución dada:

Para evitar que la clase se meta mucho en los detalles de cómo cambiar el estado de una tarea, usé el patrón Command. 
Esto significa que la lógica de cambiar estados va en objetos aparte (comandos), y el servicio solo los ejecuta.
Así el código queda más limpio y fácil de entender.

Enlace a clase [`ActividadService`]() después de aplicar los patrones de diseño.